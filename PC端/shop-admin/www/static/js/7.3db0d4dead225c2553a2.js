webpackJsonp([7],{"I+mo":function(t,e){},LYmA:function(t,e){},OoWA:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("Dd8w"),o=n.n(a),r=n("NYxO"),s=n("vLgD"),i=n("wliq"),l={props:["info"],data:function(){return{formLabelWidth:"100px",form:{roleid:"",username:"",password:"",status:1}}},methods:o()({},Object(r.b)({requestroleList:"role/roleListActions",requestManagerList:"managers/ManagerListActions",requestCount:"managers/usercountsActions"}),{cancel:function(){this.info.isshow=!1,this.form={roleid:"",username:"",password:"",status:1}},confrim:function(){Object(s.c)(this.form).then(function(t){Object(i.b)(t.data.msg)}),this.cancel(),this.requestManagerList(),this.requestCount()},update:function(){var t=this;this.form.uid=this.info.uid,Object(s.M)(this.form).then(function(e){Object(i.b)(e.data.msg),t.requestManagerList(),t.cancel()})}}),computed:o()({},Object(r.c)({roledata:"role/RoleList"})),mounted:function(){this.requestroleList()}},u={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-dialog",{attrs:{title:t.info.title,visible:t.info.isshow},on:{"update:visible":function(e){return t.$set(t.info,"isshow",e)}}},[n("el-form",{staticClass:"demo-ruleForm",attrs:{"label-width":"100px"}},[n("el-form-item",{attrs:{label:"所属角色"}},[n("el-select",{attrs:{placeholder:"请选择所属角色"},model:{value:t.form.roleid,callback:function(e){t.$set(t.form,"roleid",e)},expression:"form.roleid"}},[n("el-option",{attrs:{lable:"请选择",value:"",disabled:""}},[t._v("--请选择--")]),t._v(" "),t._l(t.roledata,function(t){return n("el-option",{key:t.id,attrs:{label:t.rolename,value:t.id}})})],2)],1),t._v(" "),n("el-form-item",{attrs:{label:"用户名"}},[n("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"密码"}},[n("el-input",{attrs:{placeholder:"请输入密码"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"状态","label-width":t.formLabelWidth}},[n("el-switch",{attrs:{"active-color":"blue","inactive-color":"grey","active-value":1,"inactive-value":2},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}})],1)],1),t._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:t.cancel}},[t._v("取 消")]),t._v(" "),t.info.isAdd?n("el-button",{attrs:{type:"primary"},on:{click:t.confrim}},[t._v("确 定")]):n("el-button",{attrs:{type:"primary"},on:{click:t.update}},[t._v("修 改")])],1)],1)],1)},staticRenderFns:[]};var c=n("VU/8")(l,u,!1,function(t){n("TGR6")},null,null).exports,d={data:function(){return{}},methods:o()({},Object(r.b)({requestManagerList:"managers/ManagerListActions",requestCount:"managers/usercountsActions",requestPage:"managers/requestPageActions"}),{cPage:function(t){this.requestPage(t),this.requestManagerList()},edit:function(t){this.$emit("edit",t)},del:function(t){var e=this;this.$confirm("此操作将永久删除该会员, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(s.L)({uid:t}).then(function(t){Object(i.b)(t.data.msg),e.requestManagerList(),e.requestCount()})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})}}),computed:o()({},Object(r.c)({tableData:"managers/managerList",count:"managers/usercounts"})),mounted:function(){this.requestManagerList(),this.requestCount()}},f={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-table",{staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{data:t.tableData,"row-key":"id",border:"","default-expand-all":""}},[n("el-table-column",{attrs:{prop:"id",label:"用户编号"}}),t._v(" "),n("el-table-column",{attrs:{prop:"username",label:"用户名称"}}),t._v(" "),n("el-table-column",{attrs:{prop:"rolename",label:"所属角色"}}),t._v(" "),n("el-table-column",{attrs:{prop:"status",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.status?n("el-button",{attrs:{type:"primary"}},[t._v("启用")]):n("el-button",{attrs:{type:"danger"}},[t._v("禁止")])]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"status",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"primary"},on:{click:function(n){return t.edit(e.row.uid)}}},[t._v("编辑")]),t._v(" "),n("el-button",{attrs:{type:"danger"},on:{click:function(n){return t.del(e.row.uid)}}},[t._v("删除")])]}}])})],1),t._v(" "),n("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":2,total:t.count},on:{"current-change":t.cPage}})],1)},staticRenderFns:[]};var m={components:{vAdd:c,vList:n("VU/8")(d,f,!1,function(t){n("I+mo")},null,null).exports},data:function(){return{info:{isshow:!1,title:"",isAdd:!0}}},methods:{add:function(){this.info={isshow:!0,title:"添加管理员",isAdd:!0}},edit:function(t){this.info={isshow:!0,title:"修改管理员",isAdd:!1},this.info.uid=t}}},p={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-button",{attrs:{type:"primary"},on:{click:t.add}},[t._v("添加")]),t._v(" "),n("v-add",{attrs:{info:t.info}}),t._v(" "),n("v-list",{on:{edit:function(e){return t.edit(e)}}})],1)},staticRenderFns:[]};var b=n("VU/8")(m,p,!1,function(t){n("LYmA")},null,null);e.default=b.exports},TGR6:function(t,e){}});
//# sourceMappingURL=7.3db0d4dead225c2553a2.js.map