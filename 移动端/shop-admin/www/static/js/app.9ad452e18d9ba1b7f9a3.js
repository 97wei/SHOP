webpackJsonp([10],{"4ml/":function(t,n){},NHnr:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("7+uW"),o={render:function(){var t=this.$createElement,n=this._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},staticRenderFns:[]};var u=e("VU/8")({name:"App"},o,!1,function(t){e("ymcE")},null,null).exports,i=e("/ocq");r.a.use(i.a);var a=new i.a({routes:[{path:"/",name:"首页",component:function(){return Promise.all([e.e(0),e.e(6)]).then(e.bind(null,"8/c5"))},redirect:"/home",children:[{path:"home",component:function(){return Promise.all([e.e(0),e.e(8)]).then(e.bind(null,"lyB/"))},name:"主页"},{path:"car",component:function(){return Promise.all([e.e(0),e.e(2)]).then(e.bind(null,"WiIy"))},name:"购物车"},{path:"mine",component:function(){return Promise.all([e.e(0),e.e(4)]).then(e.bind(null,"/ntu"))},name:"会员中心"},{path:"cate",component:function(){return e.e(7).then(e.bind(null,"zUWy"))},name:"分类"}]},{path:"/goodsList",component:function(){return Promise.all([e.e(0),e.e(3)]).then(e.bind(null,"pLzx"))},name:"商品列表"},{path:"/register",component:function(){return e.e(5).then(e.bind(null,"mrsp"))},name:"注册"},{path:"/login",component:function(){return Promise.all([e.e(0),e.e(1)]).then(e.bind(null,"Ntyz"))},name:"登录"}]});a.beforeEach(function(t,n,e){if(("/mime"==t.path||"/cart"==t.path)&&!JSON.parse(sessionStorage.getItem("user")))return Toast.fail("请登录"),void a.push("/login");e()});var s=a,c=e("Fd2+"),l=(e("4ml/"),e("NYxO")),m=e("mvHQ"),p=e.n(m),f={user:sessionStorage.getItem("user")?JSON.parse(sessionStorage.getItem("user")):null,cartList:[]},d={changeUser:function(t,n){t.user=n,n?sessionStorage.setItem("user",p()(n)):sessionStorage.removeItem("user")},changeCartList:function(t,n){t.cartList=n}},g=e("vLgD"),h={userActions:function(t,n){t.commit("changeUser",n)},cartListActions:function(t,n){console.log(n),Object(g.c)({uid:n}).then(function(n){t.commit("changeCartList",n.data.list)})}};r.a.use(l.a);var v=new l.a.Store({state:f,mutations:d,actions:h,getters:{user:function(t){return t.user},cartList:function(t){return t.cartList},sumAcount:function(t){var n=0;return null!==t.cartList&&t.cartList.map(function(t){n+=t.price*t.num}),100*n},total:function(t){var n=0;return null!==t.cartList&&t.cartList.map(function(t){n+=t.num}),n}}});r.a.use(c.b),r.a.config.productionTip=!1,r.a.prototype.$preImg="http://localhost:3000",new r.a({el:"#app",router:s,store:v,components:{App:u},template:"<App/>"})},vLgD:function(t,n,e){"use strict";e.d(n,"d",function(){return s}),e.d(n,"g",function(){return c}),e.d(n,"c",function(){return l}),e.d(n,"e",function(){return m}),e.d(n,"f",function(){return p}),e.d(n,"a",function(){return f}),e.d(n,"i",function(){return d}),e.d(n,"h",function(){return g}),e.d(n,"b",function(){return h});var r=e("mtWM"),o=e.n(r),u=e("Fd2+"),i=e("mw3O"),a=e.n(i);o.a.interceptors.request.use(function(t){console.group("本次请求地址为:"+t.url);var n=JSON.parse(sessionStorage.getItem("user"));return n&&(t.headers.authorization=n.token),t}),o.a.interceptors.response.use(function(t){if(console.group("本次响应路径为:"+t.config.url),200===t.data.code)return console.log(t),t;u.a.fail(t.data.msg)});var s=function(){return o()({method:"get",url:"/api/getbanner"})},c=function(){return o()({method:"get",url:"/api/getindexgoods"})},l=function(t){return o()({method:"get",url:"/api/cartlist",params:t})},m=function(){return o()({method:"get",url:"/api/getcatetree"})},p=function(t){return o()({method:"get",url:"/api/getgoods",params:t})},f=function(t){return o()({method:"post",url:"/api/cartadd",data:a.a.stringify(t)})},d=function(t){return o()({method:"post",url:"/api/register",data:a.a.stringify(t)})},g=function(t){return o()({method:"post",url:"/api/login",data:a.a.stringify(t)})},h=function(t){return o()({method:"post",url:"/api/cartdelete",data:a.a.stringify(t)})}},ymcE:function(t,n){}},["NHnr"]);
//# sourceMappingURL=app.9ad452e18d9ba1b7f9a3.js.map